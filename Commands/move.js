"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const command_1 = require("bdsx/command");
const nativetype_1 = require("bdsx/nativetype");
const fs = require("fs");
const Edit_1 = require("../Data/Edit");
let path = "../json/WorldEdit.json";
command_1.command.register("move", "description").overload((p, o, op) => {
    const player = o.getEntity();
    let jsonObject = JSON.parse(fs.readFileSync(path, "utf8"));
    let jsi = jsonObject.masterData.filter((item) => {
        var _a;
        return item.Name == ((_a = o.getEntity()) === null || _a === void 0 ? void 0 : _a.getName());
    });
    for (const i in jsi) {
        let xyz = "";
        console.log(Math.round(player.getRotation().y));
        if (player.getRotation().y > 0 && player.getRotation().y < 90) {
            console.log("1");
            xyz = jsi[i].pos1x - 5 + " " + jsi[i].pos1y + " " + jsi[i].pos1z;
        }
        if (player.getRotation().y > 91 && player.getRotation().y < 180) {
            console.log("2");
            xyz = jsi[i].pos1x + " " + jsi[i].pos1y + " " + (jsi[i].pos1z - 5);
        }
        if (player.getRotation().y > -90 && player.getRotation().y < 1) {
            console.log("3");
            xyz = jsi[i].pos1x + " " + jsi[i].pos1y + " " + jsi[i].pos1z + 5;
        }
        if (player.getRotation().y > -181 && player.getRotation().y < -91) {
            console.log("4");
            xyz = jsi[i].pos1x + 5 + " " + jsi[i].pos1y + " " + jsi[i].pos1z;
        }
        player.runCommand("clone " +
            jsi[i].pos1x +
            " " +
            jsi[i].pos1y +
            " " +
            jsi[i].pos1z +
            " " +
            jsi[i].pos2x +
            " " +
            jsi[i].pos2y +
            " " +
            jsi[i].pos2z +
            " " +
            xyz);
        player.runCommand("fill " +
            jsi[i].pos1x +
            " " +
            jsi[i].pos1y +
            " " +
            jsi[i].pos1z +
            " " +
            jsi[i].pos2x +
            " " +
            jsi[i].pos2y +
            " " +
            jsi[i].pos2z +
            " air");
        let ev = null;
        (0, Edit_1.EditData)(path, 4, ev);
    }
}, {
    block: nativetype_1.int32_t,
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW92ZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIm1vdmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFDQSwwQ0FBdUM7QUFDdkMsZ0RBQTBDO0FBRTFDLHlCQUF5QjtBQUN6Qix1Q0FBd0M7QUFDeEMsSUFBSSxJQUFJLEdBQVEsd0JBQXdCLENBQUM7QUFDekMsaUJBQU8sQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFFLGFBQWEsQ0FBQyxDQUFDLFFBQVEsQ0FDOUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFO0lBQ1gsTUFBTSxNQUFNLEdBQUcsQ0FBQyxDQUFDLFNBQVMsRUFBa0IsQ0FBQztJQUM3QyxJQUFJLFVBQVUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUM7SUFDM0QsSUFBSSxHQUFHLEdBQUcsVUFBVSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFTLEVBQUUsRUFBRTs7UUFDbkQsT0FBTyxJQUFJLENBQUMsSUFBSSxLQUFJLE1BQUEsQ0FBQyxDQUFDLFNBQVMsRUFBRSwwQ0FBRSxPQUFPLEVBQUUsQ0FBQSxDQUFDO0lBQy9DLENBQUMsQ0FBQyxDQUFDO0lBQ0gsS0FBSyxNQUFNLENBQUMsSUFBSSxHQUFHLEVBQUU7UUFDbkIsSUFBSSxHQUFHLEdBQUcsRUFBRSxDQUFDO1FBQ2IsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2hELElBQUksTUFBTSxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksTUFBTSxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUU7WUFDN0QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNqQixHQUFH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